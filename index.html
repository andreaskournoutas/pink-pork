<!doctype html>
<html lang="el">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel='manifest' href='manifest.webmanifest'>
        <link rel="stylesheet" href="bootstrap-grid.min.css"/>
        <link rel="stylesheet" href="material.min.css" />
        <meta name="theme-color" content="white">
        <style>
            .col-4 {
                padding: 7px;
            }
            .item {
                width: 100%;
                color: black !important;
            }
            .bread {
                background-color: orange !important;
            }
            .cheese {
                background-color: yellow !important;
            }
            .cold-cut {
                background-color: palevioletred !important;
            }
            .other {
                background-color: limegreen !important;
            }
            .sauce {
                background-color: palegoldenrod !important;
            }
            #reload {
                background-color: red !important;
            }
            #items-container {
                position: fixed;
                bottom: 0;
                background-color: white;
                width: 100%;
                padding-top: 15px;
                padding-bottom: 15px;
                box-shadow: 0 0 5px gray;
            }
            #price-col {
                font-size: 32px;
                padding-top: 7px;
                padding-bottom: 7px;
            }
            .mdl-chip {
                margin: 2px;
            }
        </style>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.70" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΚΛΑΣΣΙΚΟ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.75" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΜΠΑΓΚΕΤΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.55" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΤΟΡΤΙΓΙΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.70" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΣΤΡΟΓΓΥΛΟ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.75" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΝΤΟΝΑΤ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.70" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΤΟΣΤ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.40" class="mdl-button mdl-js-button mdl-js-ripple-effect item bread">ΜΙΝΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.75" class="mdl-button mdl-js-button mdl-js-ripple-effect item cheese">ΓΚΟΥΝΤΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.75" class="mdl-button mdl-js-button mdl-js-ripple-effect item cheese">ΦΕΤΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.60" class="mdl-button mdl-js-button mdl-js-ripple-effect item cheese">ΦΙΛΑΔΕΛΦΙΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.75" class="mdl-button mdl-js-button mdl-js-ripple-effect item cheese">ΑΝΘΟΤΥΡΟ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΖΑΜΠΟΝ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.10" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΓΑΛ. ΚΑΠ.</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.20" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΓΑΛ. ΨΗΤΗ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.20" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΚΟΤΟΠΟΥΛΟ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.25" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΜΠΙΦΤΕΚΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.10" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΣΑΛΑΜΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΛΟΥΚΑΝΙΚΟ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="1.10" class="mdl-button mdl-js-button mdl-js-ripple-effect item cold-cut">ΜΠΕΪΚΟΝ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.35" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΤΟΜΑΤΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.30" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΜΑΡΟΥΛΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.30" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΑΓΓΟΥΡΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.40" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΠΙΠΕΡΙΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.60" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΦΛΩΡΙΝΗΣ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.65" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΜΑΝΙΤΑΡΙΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.55" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΕΛΙΕΣ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.40" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΚΑΛΑΜΠΟΚΙ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.35" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΠΑΤΑΤΕΣ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.45" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΑΥΓΟ ΒΡ.</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.50" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΑΥΓΟ ΤΗΓ.</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.55" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΟΜΕΛΕΤΑ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.45" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΜΕΛΙΤΖΑΝΕΣ</button>
                </div>
                <div class="col-4">
                    <button type="button" onclick="addItem(this)" data-price="0.45" class="mdl-button mdl-js-button mdl-js-ripple-effect item other">ΚΟΛΟΚΥΘΙΑ</button>
                </div>
                <div class="col-4 offset-4">
                    <button type="button" onclick="addItem(this)" data-price="0.45" class="mdl-button mdl-js-button mdl-js-ripple-effect item sauce">ΣΩΣ</button>
                </div>
            </div>
        </div>
        <div id="items-container" class="container-fluid">
            <div class="row">
                <div id="items" class="col-12"></div>
                <div id="price-col" class="col">
                    <span id="price"></span>
                    <span> &euro;</span>
                </div>
                <div class="col-auto">
                    <button onclick="reload()" id="reload" class="mdl-button mdl-js-button mdl-js-ripple-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M.01 0h24v24h-24V0z"/><path d="M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"/></svg>
                    </button>
                </div>
            </div>
        </div>
        <script src="material.min.js"></script>
        <script>
            if ("serviceWorker" in navigator) {
                if (navigator.serviceWorker.controller) {
                    console.log("[PWA Builder] active service worker found, no need to register");
                } else {
                    navigator.serviceWorker
                        .register("pwabuilder-sw.js", {
                            scope: "/pink-pork/"
                        })
                        .then(function(reg) {
                            console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
                        });
                }
            }

            let totalPrice = 0;
            let price = 0;
            let buttonClass;
            const priceSpan = document.getElementById("price");
            const itemsDiv = document.getElementById("items");

            function priceUpdate() {
                if (buttonClass == "item") {
                    totalPrice += price;
                }
                else {
                    totalPrice -= price;
                }
                priceSpan.textContent = totalPrice.toFixed(2);
            }

            function paddingsCalculate() {
                document.body.setAttribute("style", "padding-bottom: " + document.getElementById("items-container").offsetHeight + "px;");
                if (itemsDiv.innerHTML == "") {
                    itemsDiv.setAttribute("style", "padding-bottom: 0;");
                }
                else {
                    itemsDiv.setAttribute("style", "padding-bottom: 15px;");
                }
            }

            (function() {
                priceSpan.textContent = totalPrice;
                paddingsCalculate();
            })();

            function reload() {
                if (confirm("Θέλετε να ξαναφορτώσετε τη σελίδα;") === true) {
                    location.reload();
                }
            }
            
            function addItem(item) {
                price = Number(item.getAttribute("data-price"));
                buttonClass = "item";
                itemsDiv.innerHTML += '<button type="button" onclick="removeItem(this)" data-price="' + price + '" class="mdl-chip items__item"><span class="mdl-chip__text">' + item.textContent + '</span></button>'
                priceUpdate();
                paddingsCalculate();
            }

            function removeItem(item) {
                price = Number(item.getAttribute("data-price"));
                buttonClass = "items__item";
                item.remove();
                priceUpdate();
                paddingsCalculate();
            }
        </script>
    </body>
</html>